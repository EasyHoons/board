<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">

	<div class="card border-success mb-3" style="width: 25rem;">
		<div class="card-header" th:text="|계정 기본 정보|"></div>
		<ul class="list-group list-group-flush">
			<li class="list-group-item" th:text="|name : ${siteUser.username}"></li>
			<li class="list-group-item" th:text="|mail : ${siteUser.email}|"></li>
			<li class="list-group-item">내가 쓴 글 수 : <a class= "text-success" th:text="|${totalmessage}|" href="#"></a></li>
			<li class="list-group-item">내가 쓴 댓글 수 : <a class= "text-success" th:text="|${totalcomment}|" href="#"></a></li>
			
		</ul>
	</div>


	<div class="card border-success mb-3" style="width: 25rem;">
	<div class="card-header" th:text="|비밀번호 변경|"></div>
		<form class="form-inline mb-3" th:action="@{/user/modify}" th:object="${usermodifyform}" method="post">
			<div class="form-group mx-sm-3"> 
				<label for="password" class="form-label">current password</label> 
				<input id="1stpass" type="password" th:field="*{password1}" class="form-control" >
				<label for="password" class="form-label">new password</label> 
				<input id="2ndpass" type="password" th:field="*{password2}" class="form-control" >
				
				<button id="btn-primary1" type="submit" class="btn btn-primary mr-2 mt-2"
					style="float: right;">변경</button>
			</div>
		</form>
	</div>
</div>
	
<script layout:fragment="javaScript" type='text/javascript'>
const btn_change = document.getElementById("btn-primary1");
const searchParams= new URLSearchParams(location.search);

	result=searchParams.get('result');

	if(result=="2"){ alert("비밀번호가 변경되었습니다.");}

</script>
</html>


